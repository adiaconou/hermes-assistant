# Frontend

Frontend and UI concerns for Hermes Assistant. This project has no traditional frontend — all user interaction happens via SMS/WhatsApp. UI pages are generated dynamically by the ui-agent and served as static HTML.

---

## UI Agent

The `ui-agent` generates interactive HTML pages via the `generate_ui` tool. Pages are self-contained — all HTML, CSS, and JavaScript must be inline.

### Constraints

- **No network access** — Generated pages cannot make API calls or load external resources
- **Data must be pre-fetched** — Any data the UI needs must be fetched by a prior agent step and passed to the ui-agent
- **Self-contained** — All styles and scripts are inline; no CDN dependencies
- **CSP headers** — Pages are served with Content-Security-Policy headers restricting external resources

### Page Generation Flow

1. Planner determines a UI response is needed
2. Prior agent steps fetch required data (e.g., calendar events, spreadsheet data)
3. ui-agent receives the data and generates an HTML page
4. Page is stored (local filesystem or S3) and a short URL is sent via SMS

### Storage Providers

| Provider | Config | Notes |
|----------|--------|-------|
| `local` (default) | `UI_STORAGE_PROVIDER=local` | Stored on disk, served by Express |
| `s3` | `UI_STORAGE_PROVIDER=s3` | S3-compatible storage (not fully implemented) |

Pages expire after `PAGE_TTL_DAYS` (default: 7 days).

---

## Admin Pages

Admin pages are server-rendered HTML at `/admin/*`:

| Route | File | Purpose |
|-------|------|---------|
| `/admin/memory` | `src/admin/views/memory.html` | View and manage user facts |
| `/admin/email-skills` | `src/admin/views/email-skills.html` | View and manage email skills |

These are standard HTML pages served by Express, not generated by the ui-agent. They make fetch calls to `/admin/api/*` endpoints.

**Note:** Admin routes currently lack authentication (see [tech-debt-tracker](exec-plans/tech-debt-tracker.md), T-D1). They are intended for local/trusted use only.
